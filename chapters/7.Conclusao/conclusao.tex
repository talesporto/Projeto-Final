\chapter{Conclusão}
\label{cap:conclusao}

Dentre as diversas informações de contexto que podem ser obtidas em ambientes
inteligentes, as informações que contém as identidades e as posições dos
usuários são fundamentais para que o ambiente possa tomar decisões proativas de modo a se tornar inteligente. Como observado no Capítulo~\ref{cap:trabalhos_correlatos}, diversas pesquisas para rastreamento, identificação e localização têm sido desenvolvidas, porém a maioria são projetadas para ambientes com especificação de tamanho e sensores pré-determinada.

Este trabalho teve como objetivo o desenvolvimento de um sistema, denominado TRUE (\textit{Tracking and Recognizing Users in the Environment}), que realiza reconhecimento facial, rastreamento e localização de usuários em um ambiente inteligente gerenciado pelo Middleware \textit{uOS}. O sistema proposto utiliza, como entrada de dados, imagens de cor e de profundidade fornecidas pelo sensor \textit{Kinect}. O foco do Middleware \textit{uOS} está na adaptabilidade de serviços em ambientes inteligentes, de modo que os serviços oferecidos pelos dispositivos presentes no ambiente possam ser compartilhados de forma transparente e invisível ao usuário.

A implementação do Sistema TRUE foi dividida em  quatro módulos: Rastreamento, Reconhecimento, Registro e Integração. O Módulo de Rastreamento é responsável pelo rastreamento e localização dos usuários no ambiente. O rastreamento é fundamental para o funcionamento correto do Sistema TRUE, pois ele é responsável por detectar e rastrear os usuários e serve como base para a obtenção das localizações e identidades. 

Foram conduzidos conjuntos de testes para cada um dos propósitos do Sistema TRUE. Os testes de rastreamento simulam diferentes situações diárias onde os usuários rastreados interagem entre si e com diferentes objetos. O Sistema TRUE se mostrou eficaz tendo em vista que os novos usuários são detectados antes mesmo de entrarem por completo no campo de visão do sensor. Além disso, revelou-se robusto em casos de oclusões parciais e como esperado, nos casos de oclusões totais não foi possível prosseguir com o rastreamento. Os testes também mostraram que os limites do sensor permitem até 5 pessoas a uma distância de 4,057 metros.

O Sistema TRUE estima a posição dos usuários por meio de coordenadas em relação ao sensor \textit{Kinect}. Portanto, fixando a posição do sensor é possível obter a localização física dos usuários no ambiente. Os testes de localização foram realizados comparando as coordenadas obtidas pelo Sistema TRUE com as coordenadas mensuradas manualmente. As coordenadas obtidas pelo sistema se mostraram consideravelmente próximas das reais, apresentando diferenças de poucos centímetros que aumentam juntamente com a distância entre o usuário e o sensor. 

Para identificar os usuários no ambiente, o Sistema TRUE realiza reconhecimento facial dos usuários através de imagens de cor de suas faces. Foram realizados dois cenários de testes de identificação que se diferem na estratégia utilizada no cadastro dos usuários. O segundo cenário utiliza uma maior quantidade de imagens da face de cada usuário com uma maior variação dos ângulos, poses e expressões faciais. Os testes mostraram que a estratégia utilizada no cadastro dos usuários tem grande impacto nos resultados do reconhecimento, sendo que a taxa de acertos aumentou de 73,63\% (primeiro cenário) para 82,5\% (segundo cenário).

Com as informações providas pelo Sistema TRUE, tornou-se possível o desenvolvimento de novas aplicações que possuem um maior entendimento do contexto do ambiente. Para exemplificar o uso dessas informações foi desenvolvido uma pequena aplicação denominada \textit{UserApp}. Esta aplicação utiliza as identidades e posições dos usuários para enviar mensagens de boas vindas, despedidas e mensagens para informá-los a quanto tempo estão no mesmo lugar.

\section{Trabalhos Futuros}

Os dados providos pelo Sistema TRUE e disponibilizados pelo Middleware \textit{uOS} constroem uma nova base para a criação de inúmeras aplicações para ambientes inteligentes. A partir das informações de identidade e localização dos usuários, tornou-se possível desenvolver aplicações de reconfiguração automática de serviços, estabelecimento de contextos e definição de perfis.

Além disso, o Sistema TRUE pode ser melhorado em algumas de suas características. Uma dessas melhorias consiste na expansão do sistema para permitir a utilização de múltiplos \textit{Kinects} de modo a expandir sua área de cobertura. Essa expansão minimizaria os problemas de oclusão e também aumentaria o número máximo de usuários rastreados.


É possível também melhorar os resultados do reconhecimento. Como visto nos testes, foi possível obter melhores resultados apenas modificando a estratégia de cadastro. Essa melhoria pode ser desenvolvida em duas frentes, como estudo de novas formas de cadastros de usuário e novas técnicas que utilizam os dados de profundidade para o reconhecimento facial.





