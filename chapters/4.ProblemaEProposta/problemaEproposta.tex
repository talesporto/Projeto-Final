\chapter{Sistema TRUE}

Observando a realidade de um ambiente inteligente fica claro que as informações como posição das pessoas e suas respectivas identidades são de grande valia para que decisões possam ser tomadas. Atualmente, a maioria das soluções encontradas para fornecer esse tipo de informação foram projetadas para funcionar em ambientes rigidamente definidos. Com isso, não seria adequado tentar incorporar soluções como estas em um ambiente com diferentes dimensões, condições de iluminação, posição dos móveis, diferentes sensores pois este resultaria em um cenário diferente. Além disso, seria interessante que a solução fosse integrada com o middleware \textit{UbiquitOS}, disponibilizando, então, as informações obtidas dos usuários as diversas aplicações presentes no ambiente.

% Além disso, a solução deve ser integrada com o middleware \textit{UbiquitOS}, o qual gerência os serviços providos pelo ambiente inteligente.

Esse trabalho propõe, então, um sistema aberto de rastreamento, localização e identificação de pessoas em um ambiente inteligente integrado com o middleware \textit{UbiquitOS}. Tal sistema é chamado de TRUE, \textit{\textbf{T}racking and \textbf{R}ecognizing \textbf{U}sers in the \textbf{E}nvironment}.

O Sistema TRUE é um sistema monomodal implementado em C++ que utiliza somente dados visuais, como imagens de cor e profundidade. As imagens de profundidade serão utilizadas no rastreamento e localização dos usuários no ambiente, e as imagens de cor serão utilizadas no reconhecimento facial e no cadastro dos usuários. Portanto, os dispositivos presentes no ambiente devem ser capazes de fornecer esses tipos de dados a um taxa e qualidade adequada. 

Para obter os dados necessários, o sistema utiliza o sensor \textit{Kinect} da Microsoft descrito no Apêndice~\ref{sec:kinect}, um dispositivo bastante acessível e capaz de fornecer imagens de cor e de profundidade sincronizadas a uma taxa e qualidade necessária.

O Sistema TRUE é dividido em quatro módulos principais:

	\begin{itemize}
		\item \textbf{Módulo de Rastreamento}: parte do sistema responsável pelo rastreamento e localização dos usuários no ambiente.
		\item \textbf{Módulo de Reconhecimento}: parte do sistema responsável por identificar os usuários rastreados.
		\item \textbf{Módulo de Registro}: parte do sistema responsável pelo cadastro de novos usuários e treino do sistema.
		\item \textbf{Módulo de Integração}: parte do sistema responsável pela integração e comunicação do sistema com o Middleware \textit{UbiquitOS}.
	\end{itemize}

A relação entre os módulos é descrito na Figura~\ref{fig:relacao-modulos} e descrita nas seções deste capítulo.

	\begin{figure}[hbt]
			\begin{center}
				\includegraphics[scale=0.5]{figuras/4.ProblemaEProposta/modulo-integracao.png}
			\end{center}
			\caption{Módulos do Sistema TRUE.}
			\label{fig:relacao-modulos}
		\end{figure}

% O Módulo de Registro é independente dos demais. Já o, os outros dois módulos devem trocar informações entre si para centralizar todas as informações (localização e reconhecimento) de todos usuários rastreados no ambiente. A seguir, é explicado mais detalhadamente cada módulo e como tal troca de informações ocorre.

\input{chapters/4.ProblemaEProposta/modulo_reconhecimento}
\input{chapters/4.ProblemaEProposta/modulo_rastreamento}
\input{chapters/4.ProblemaEProposta/rastreamento-reconhecimento}
\input{chapters/4.ProblemaEProposta/modulo_registro}
\input{chapters/4.ProblemaEProposta/modulo-middleware}
